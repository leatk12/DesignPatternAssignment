package Assignment.Game;

import javafx.scene.canvas.GraphicsContext;
import javafx.scene.control.skin.TextInputControlSkin.Direction;
import javafx.scene.image.Image;

public class Pow0Bullet extends GameObject implements Bullet {
	//Boolean variable to track whether the bullet is active
	private boolean active;
	
	
	public Pow0Bullet(double x, double y, double width, double height, GraphicsContext gc) {
        super(x, y, width, height, gc);
        this.img = new Image(Pow0Bullet.class.getResource("Pow0Bullet.png").toExternalForm());
        //Initialise as inactive
        this.active = false;
    }

	

	@Override
	public void shoot(double playerX, double playerY, Direction lastDirection) {
		active = true;
	    // Use the direction passed as a parameter
	    switch (lastDirection) {
	        case LEFT:
	            speedX = -8;  // The bullet moves to the left
	            speedY = 0;
	            break;
	        case RIGHT:
	            speedX = 8;  // The bullet moves to the right
	            speedY = 0;
	            break;
	        case UP:
	            speedX = 0;
	            speedY = -8; // The bullet moves up
	            break;
	        case DOWN:
	            speedX = 0;
	            speedY = 8; // The bullet moves down
	            break;
	        default:
	            speedX = 8;  // Setting the default bullet direction to the right if no movement has been recorded
	            speedY = 0;
	            break;
	    }
	}
	
	
	@Override
	public void draw() {
		// TODO Auto-generated method stub
		//Debug
		System.out.println("Bullet drawn at: (" + x + ", " + y + ")");
		if (active && img != null)
			gc.drawImage(img,  x - width / 2,  y - height / 2, width, height);
	}

}
